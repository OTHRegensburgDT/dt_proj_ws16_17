\graphicspath{{./gui/Bilder/}}

\chapter{Arbeitspaket GUI}
Für die Analyse, den Entwurf, die Implementierung dieses Arbeitspaketes übernahm Herr Krause die Verantwortung, wobei er bei der Implementierung vom Herrn Krupinski unterstützt wurde. Während der Integration des Arbeitspaketes waren die Herren Krupinski und Schleinkhofer unterstützend eingebunden.
\paragraph{}
In der Projektspezifikation wurde die Anforderung der Visualisierung der Motor-Charakteristiken und der Steuerung des Motors mit aufgenommen. Zu diesem Zweck wurde eine Benutzeroberfläche in der Programmiersprache C\# mit Hilfe des Grafik-Framework\footnote{Rahmenstruktur in der Software} \textit{WPF} \footnote{Windows Presentation Foundation} von Microsoft erstellt.

\section{Analysephase}
Das Arbeitspaket GUI wurde mit einer Analysephase begonnen. In dieser Phase wurden die möglichen Funktionalen und Nicht-Funktionalen Anforderungen zusammengetragen und aufgelistet. Zu dem Zweck Anforderungen zu finden, wurden Stakeholder\footnote{Projektbeteiligte, welche nicht an der Entwicklung beteiligt sind} befragt, anschließend wurden die Ergebnisse der Befragung validiert und es wurde eine Priorisierung für die umzusetzenden Projektinhalte durchgeführt.\\
Die Analyse ergab, folgende Anforderungen an die Benutzeroberfläche:
\begin{itemize}
	\item Anzeige aller zu empfangenden Sensordaten
	\item Regelung der Geschwindigkeit
	\item Kalibrierung der PID Regelung
	\item Anzeige der aktuellen Sensorwerte mit einem Tachometer
	\item Anzeige einer Historie in einem Linien Diagramm
	\item Zoom- und Scroll-Funktion für das Linien Diagramm
	\item Export- und Import für Messungen und Vergleiche
	\item Modularer und erweiterbarer Aufbau der Software
	\item Metro Design
	\item Ziel Betriebssystem Windows 10
\end{itemize} 

Weitere Ergebnisse der Analysephase waren die bestehenden Schnittstellen zu dem Kommunikationsmodul vom Herrn Schleinkhofer. Die Datenstrukturen für die zu sendenden Datenobjekte mussten aufeinander abgestimmt sein, damit eine Abbildung in beide Richtungen gewährleistet ist. 


\section{Entwurfsphase}
Mit den Ergebnissen der Analysephase, wurde ein Entwurf der Benutzeroberfläche erstellt. Der Entwurf wurde auf der einen Seite für die Code Struktur durchgeführt, auf der anderen Seite wurden ebenfalls bereits Designentwürfe des Layouts erstellt.\\
Im ersten Teil des Entwurfes wurden gezielt Entwurfsmuster eingesetzt um den Code auf der einen Seite gut lesbar und wartbar zu modellieren, auf der anderen Seite ihn auch flexible und erweiterbar zu halten. Als grundlegende Architektur für das System wurde das MVVM\footnote{kurzw. für Model-View-ViewModel} Entwurfsmuster\ref{fig:mvvm} gewählt. Durch den Einsatz des MVVM-Light\footnote{Link zum Projekt\url{https://mvvmlight.codeplex.com/}} Toolkits, welches grundlegende Funktionalitäten und Templates für das WPF Projekt bereitstellt. Weitere eingesetzte Entwurfsmuster sind das Kommandomuster, welches alle ausgeführten Events auf der Benutzeroberfläche auffängt und im ViewModel behandelt und verarbeitet, das Repository\footnote{engl. Haufen}-Muster, welches die Daten Verwaltung übernimmt und das "Umkehrung der Kontrolle"-Muster, für dessen Zweck ein Abhängigkeits-Container zu beginn des Systemstarts erstellt und gefüllt wird und anschließend den Zugriff auf die im Container befindlichen Objekte von jedem Punkt der Anwendung her ermöglicht.\\

\begin{figure}[h]
	\centering
		\includegraphics[scale=1]{385px-MVVMPattern}
		\caption{MVVM-Konzept}
		\label{fig:mvvm}
\end{figure}

Bei der Strukturierung des Codes wurde darauf geachtet, die einzelnen Teilbereiche der Software bestmöglich unabhängig von einander zu halten, dies wurde durch den Einsatz der verschiedenen Muster positive Unterstützt.

Wie bereits in der Analysephase erwähnt, wurden die Datenstrukturen\ref{lst:SensorData} vom Kommunikationsmodul aufgenommen.

\begin{lstlisting}[frame=single, caption=Beschreibung der Sensordatenstruktur, label=lst:SensorData]

    public class SensorData
    {
        public ulong Timestamp { get; set; }
        public SortedList<ushort, double> DataTable { get; set; }
    }
\end{lstlisting}



Im zweiten Teil des Entwurfes wurde ein erstes einfaches Layout\ref{fig:gui} erstellt. Dieses Layout wurde mit dem Werkzeug Pencil\footnote{Link zum Projekt \url{http://pencil.evolus.vn/}}erstellt. Es ist einfach zu bedienen und lieferte schnell ein Layout, welches im Projektteam besprochen werden konnte.

\begin{figure}[h]
	\centering
		\includegraphics[width=0.5\textwidth]{Mockup}
		\caption{Erster Layout Entwurf der GUI}
		\label{fig:gui}
\end{figure}


\section{Implementierung}
 
\section{Ausblick}
Dieser Abschnitt beinhaltet mögliche Erweiterungen und nicht vollständig umgesetzte Projektteile, welche eine weitere Gruppe als Arbeitspaket übernehmen kann. 


\input{gui/diagram}
\input{gui/gauge}
